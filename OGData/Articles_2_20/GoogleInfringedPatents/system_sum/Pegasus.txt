Google has won the first round in its legal battle with Sonos, after a judge ruled that the music-streaming company's smart speakers violated Google's patents.